<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>HDASS: artsengine.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.6 -->
<div class="qindex"><a class="qindex" href="main.html">Main&nbsp;Page</a> | <a class="qindex" href="namespaces.html">Namespace List</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="classes.html">Alphabetical&nbsp;List</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="namespacemembers.html">Namespace&nbsp;Members</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<h1>artsengine.h</h1><a href="artsengine_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="comment">/***************************************************************************</span>
00002 <span class="comment">                      artsengine.h  -  aRts audio interface</span>
00003 <span class="comment">                         -------------------</span>
00004 <span class="comment">begin                : Dec 31 2003</span>
00005 <span class="comment">copyright            : (C) 2003 by Mark Kretschmann</span>
00006 <span class="comment">email                : markey@web.de</span>
00007 <span class="comment">***************************************************************************/</span>
00008 
00009 <span class="comment">/***************************************************************************</span>
00010 <span class="comment"> *                                                                         *</span>
00011 <span class="comment"> *   This program is free software; you can redistribute it and/or modify  *</span>
00012 <span class="comment"> *   it under the terms of the GNU General Public License as published by  *</span>
00013 <span class="comment"> *   the Free Software Foundation; either version 2 of the License, or     *</span>
00014 <span class="comment"> *   (at your option) any later version.                                   *</span>
00015 <span class="comment"> *                                                                         *</span>
00016 <span class="comment"> ***************************************************************************/</span>
00017 
00018 <span class="preprocessor">#ifndef AMAROK_ARTSENGINE_H</span>
00019 <span class="preprocessor"></span><span class="preprocessor">#define AMAROK_ARTSENGINE_H</span>
00020 <span class="preprocessor"></span>
00021 <span class="preprocessor">#include "<a class="code" href="amarokarts_8h.html">amarokarts.h</a>"</span> 
00022 <span class="preprocessor">#include "<a class="code" href="enginebase_8h.html">enginebase.h</a>"</span>
00023 
00024 <span class="preprocessor">#include &lt;vector&gt;</span>
00025 
00026 <span class="preprocessor">#include &lt;qguardedptr.h&gt;</span>
00027 <span class="preprocessor">#include &lt;qmap.h&gt;</span>
00028 <span class="preprocessor">#include &lt;qstringlist.h&gt;</span>
00029 <span class="preprocessor">#include &lt;qwidget.h&gt;</span>
00030 
00031 <span class="preprocessor">#include &lt;arts/artsgui.h&gt;</span>
00032 <span class="preprocessor">#include &lt;arts/soundserver.h&gt;</span>
00033 
00034 <span class="comment">//#include &lt;arts/kartswidget.h&gt;</span>
00035 <span class="comment">//#include &lt;arts/kplayobjectfactory.h&gt;</span>
00036 
00037 <span class="keyword">class </span>QStringList;
00038 <span class="keyword">class </span>QTimer;
00039 <span class="keyword">class </span>QTimerEvent;
00040 
00041 <span class="keyword">class </span>KArtsDispatcher;
00042 <span class="keyword">class </span>KArtsWidget;
00043 <span class="keyword">class </span>KURL;
00044 
00045 
<a name="l00046"></a><a class="code" href="namespaceKDE.html">00046</a> <span class="keyword">namespace </span>KDE { <span class="keyword">class </span>PlayObject; }
00047 
00048 
<a name="l00049"></a><a class="code" href="classArtsEngine.html">00049</a> <span class="keyword">class </span><a class="code" href="classArtsEngine.html">ArtsEngine</a> : <span class="keyword">public</span> <a class="code" href="classEngineBase.html">EngineBase</a>
00050 {
00051     Q_OBJECT
00052 
00053     <span class="keyword">public</span>:
00054                                                  <a class="code" href="classArtsEngine.html#ArtsEnginea0">ArtsEngine</a>( );
00055                                                  <a class="code" href="classArtsEngine.html#ArtsEnginea1">~ArtsEngine</a>();
00056                                         
00057         <span class="keywordtype">void</span>                                     <a class="code" href="classArtsEngine.html#ArtsEnginea2">init</a>( <span class="keywordtype">bool</span>&amp; restart, <span class="keywordtype">int</span> scopeSize, <span class="keywordtype">bool</span> restoreEffects ); 
00058                                                                                                   
00059         <span class="keywordtype">bool</span>                                     <a class="code" href="classArtsEngine.html#ArtsEnginea3">initMixer</a>( <span class="keywordtype">bool</span> hardware );
00060         <span class="keywordtype">bool</span>                                     <a class="code" href="classArtsEngine.html#ArtsEnginea4">canDecode</a>( <span class="keyword">const</span> KURL &amp;url, mode_t mode, mode_t permissions );
<a name="l00061"></a><a class="code" href="classArtsEngine.html#ArtsEnginea5">00061</a>         StreamingMode                            <a class="code" href="classArtsEngine.html#ArtsEnginea5">streamingMode</a>() { <span class="keywordflow">return</span> Socket; }
00062         <span class="keywordtype">long</span>                                     <a class="code" href="classArtsEngine.html#ArtsEnginea6">position</a>() <span class="keyword">const</span>;
00063         EngineBase::EngineState                  <a class="code" href="classArtsEngine.html#ArtsEnginea7">state</a>() <span class="keyword">const</span>;
00064         <span class="keywordtype">bool</span>                                     <a class="code" href="classArtsEngine.html#ArtsEnginea8">isStream</a>() <span class="keyword">const</span>;
00065 
00066         std::vector&lt;float&gt;*                      <a class="code" href="classArtsEngine.html#ArtsEnginea9">scope</a>();
00067 
00068         QStringList                              <a class="code" href="classArtsEngine.html#ArtsEnginea10">availableEffects</a>() <span class="keyword">const</span>;
00069         std::vector&lt;long&gt;                        <a class="code" href="classArtsEngine.html#ArtsEnginea11">activeEffects</a>() <span class="keyword">const</span>;
00070         QString                                  <a class="code" href="classArtsEngine.html#ArtsEnginea12">effectNameForId</a>( <span class="keywordtype">long</span> <span class="keywordtype">id</span> ) <span class="keyword">const</span>;
00071         <span class="keywordtype">bool</span>                                     <a class="code" href="classArtsEngine.html#ArtsEnginea13">effectConfigurable</a>( <span class="keywordtype">long</span> <span class="keywordtype">id</span> ) <span class="keyword">const</span>;
00072         <span class="keywordtype">long</span>                                     <a class="code" href="classArtsEngine.html#ArtsEnginea14">createEffect</a>( <span class="keyword">const</span> QString&amp; name );
00073         <span class="keywordtype">void</span>                                     <a class="code" href="classArtsEngine.html#ArtsEnginea15">removeEffect</a>( <span class="keywordtype">long</span> <span class="keywordtype">id</span> );
00074         <span class="keywordtype">void</span>                                     <a class="code" href="classArtsEngine.html#ArtsEnginea16">configureEffect</a>( <span class="keywordtype">long</span> <span class="keywordtype">id</span> );
00075        
00076         <span class="keywordtype">bool</span>                                     <a class="code" href="classArtsEngine.html#ArtsEnginea17">decoderConfigurable</a>();
<a name="l00077"></a><a class="code" href="classArtsEngine.html#ArtsEnginea18">00077</a>         <span class="keywordtype">bool</span>                                     <a class="code" href="classArtsEngine.html#ArtsEnginea18">supportsXFade</a>()<span class="keyword"> const     </span>{ <span class="keywordflow">return</span> <span class="keyword">true</span>; }
00078          
00079     <span class="keyword">public</span> slots:
00080         <span class="keywordtype">void</span>                                     <a class="code" href="classArtsEngine.html#ArtsEnginei1">play</a>( <span class="keyword">const</span> KURL&amp; );
00081         <span class="keywordtype">void</span>                                     <a class="code" href="classArtsEngine.html#ArtsEnginei1">play</a>();
00082         <span class="keywordtype">void</span>                                     <a class="code" href="classArtsEngine.html#ArtsEnginei2">stop</a>();
00083         <span class="keywordtype">void</span>                                     <a class="code" href="classArtsEngine.html#ArtsEnginei3">pause</a>();
00084 
00085         <span class="keywordtype">void</span>                                     <a class="code" href="classArtsEngine.html#ArtsEnginei4">seek</a>( <span class="keywordtype">long</span> ms );
00086         <span class="keywordtype">void</span>                                     <a class="code" href="classArtsEngine.html#ArtsEnginei5">setVolume</a>( <span class="keywordtype">int</span> percent );
00087         <span class="keywordtype">void</span>                                     <a class="code" href="classArtsEngine.html#ArtsEnginei6">configureDecoder</a>();                                                   
00088 
00089     <span class="keyword">private</span> slots:
00090         <span class="keywordtype">void</span>                                     <a class="code" href="classArtsEngine.html#ArtsEnginek0">connectPlayObject</a>();
00091         <span class="keywordtype">void</span>                                     <a class="code" href="classArtsEngine.html#ArtsEnginek1">connectTimeout</a>();
00092     
00093     <span class="keyword">private</span>:
00094         <span class="keywordtype">void</span>                                     <a class="code" href="classArtsEngine.html#ArtsEngined0">startXfade</a>();
00095         <span class="keywordtype">void</span>                                     <a class="code" href="classArtsEngine.html#ArtsEngined1">timerEvent</a>( QTimerEvent* );
00096 
00097         <span class="keywordtype">void</span>                                     <a class="code" href="classArtsEngine.html#ArtsEngined2">loadEffects</a>();
00098         <span class="keywordtype">void</span>                                     <a class="code" href="classArtsEngine.html#ArtsEngined3">saveEffects</a>();
00099 
<a name="l00100"></a><a class="code" href="classArtsEngine_1_1ArtsConfigWidget.html">00100</a>         <span class="keyword">class </span><a class="code" href="classArtsEngine_1_1ArtsConfigWidget.html">ArtsConfigWidget</a> : <span class="keyword">public</span> <a class="code" href="classQWidget.html">QWidget</a>
00101         {
00102             <span class="keyword">public</span>:
00103                                                  <a class="code" href="classArtsEngine_1_1ArtsConfigWidget.html#ArtsEngine_1_1ArtsConfigWidgeta0">ArtsConfigWidget</a>( Arts::Object object );
00104                                                  <a class="code" href="classArtsEngine_1_1ArtsConfigWidget.html#ArtsEngine_1_1ArtsConfigWidgeta1">~ArtsConfigWidget</a>();
00105             <span class="keyword">private</span>:
<a name="l00106"></a><a class="code" href="classArtsEngine_1_1ArtsConfigWidget.html#ArtsEngine_1_1ArtsConfigWidgetr0">00106</a>                 Arts::Widget                     <a class="code" href="classArtsEngine_1_1ArtsConfigWidget.html#ArtsEngine_1_1ArtsConfigWidgetr0">m_gui</a>;
<a name="l00107"></a><a class="code" href="classArtsEngine_1_1ArtsConfigWidget.html#ArtsEngine_1_1ArtsConfigWidgetr1">00107</a>                 KArtsWidget                      *<a class="code" href="classArtsEngine_1_1ArtsConfigWidget.html#ArtsEngine_1_1ArtsConfigWidgetr1">m_pArtsWidget</a>;
00108         };
00109 
<a name="l00110"></a><a class="code" href="structArtsEngine_1_1EffectContainer.html">00110</a>         <span class="keyword">struct </span><a class="code" href="structArtsEngine_1_1EffectContainer.html">EffectContainer</a>
00111         {
<a name="l00112"></a><a class="code" href="structArtsEngine_1_1EffectContainer.html#ArtsEngine_1_1EffectContainero0">00112</a>             Arts::StereoEffect*                  <a class="code" href="structArtsEngine_1_1EffectContainer.html#ArtsEngine_1_1EffectContainero0">effect</a>;
<a name="l00113"></a><a class="code" href="structArtsEngine_1_1EffectContainer.html#ArtsEngine_1_1EffectContainero1">00113</a>             QGuardedPtr&lt;ArtsConfigWidget&gt;        <a class="code" href="structArtsEngine_1_1EffectContainer.html#ArtsEngine_1_1EffectContainero1">widget</a>;
00114         };
00115 
00117         <span class="comment">// ATTRIBUTES</span>
<a name="l00119"></a><a class="code" href="classArtsEngine.html#ArtsEnginev0">00119</a> <span class="comment"></span>        <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span>                         <a class="code" href="classArtsEngine.html#ArtsEnginev0">ARTS_TIMER</a> = 100;   <span class="comment">//ms</span>
<a name="l00120"></a><a class="code" href="classArtsEngine.html#ArtsEnginev1">00120</a>         <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span>                         <a class="code" href="classArtsEngine.html#ArtsEnginev1">TIMEOUT</a>    = 4000;  <span class="comment">//ms FIXME make option?</span>
00121 
<a name="l00122"></a><a class="code" href="classArtsEngine.html#ArtsEnginer0">00122</a>         KArtsDispatcher*                         <a class="code" href="classArtsEngine.html#ArtsEnginer0">m_pArtsDispatcher</a>;
<a name="l00123"></a><a class="code" href="classArtsEngine.html#ArtsEnginer1">00123</a>         KDE::PlayObject*                         <a class="code" href="classArtsEngine.html#ArtsEnginer1">m_pPlayObject</a>;
<a name="l00124"></a><a class="code" href="classArtsEngine.html#ArtsEnginer2">00124</a>         KDE::PlayObject*                         <a class="code" href="classArtsEngine.html#ArtsEnginer2">m_pPlayObjectXfade</a>;
<a name="l00125"></a><a class="code" href="classArtsEngine.html#ArtsEnginer3">00125</a>         Arts::SoundServerV2                      <a class="code" href="classArtsEngine.html#ArtsEnginer3">m_server</a>;
<a name="l00126"></a><a class="code" href="classArtsEngine.html#ArtsEnginer4">00126</a>         Arts::StereoEffectStack                  <a class="code" href="classArtsEngine.html#ArtsEnginer4">m_globalEffectStack</a>;
<a name="l00127"></a><a class="code" href="classArtsEngine.html#ArtsEnginer5">00127</a>         Arts::StereoEffectStack                  <a class="code" href="classArtsEngine.html#ArtsEnginer5">m_effectStack</a>;
<a name="l00128"></a><a class="code" href="classArtsEngine.html#ArtsEnginer6">00128</a>         Arts::StereoVolumeControl                <a class="code" href="classArtsEngine.html#ArtsEnginer6">m_volumeControl</a>;
<a name="l00129"></a><a class="code" href="classArtsEngine.html#ArtsEnginer7">00129</a>         Arts::Synth_AMAN_PLAY                    <a class="code" href="classArtsEngine.html#ArtsEnginer7">m_amanPlay</a>;
<a name="l00130"></a><a class="code" href="classArtsEngine.html#ArtsEnginer8">00130</a>         <a class="code" href="classAmarok_1_1RawScope.html">Amarok::RawScope</a>                         <a class="code" href="classArtsEngine.html#ArtsEnginer8">m_scope</a>;
00131 <span class="comment">//        Arts::RawScope                           m_scope;</span>
<a name="l00132"></a><a class="code" href="classArtsEngine.html#ArtsEnginer9">00132</a>         <a class="code" href="classAmarok_1_1Synth__STEREO__XFADE.html">Amarok::Synth_STEREO_XFADE</a>               <a class="code" href="classArtsEngine.html#ArtsEnginer9">m_xfade</a>;
00133 <span class="comment">//        Arts::Synth_STEREO_XFADE                 m_xfade;</span>
00134 
<a name="l00135"></a><a class="code" href="classArtsEngine.html#ArtsEnginer10">00135</a>         <span class="keywordtype">long</span>                                     <a class="code" href="classArtsEngine.html#ArtsEnginer10">m_scopeId</a>;
<a name="l00136"></a><a class="code" href="classArtsEngine.html#ArtsEnginer11">00136</a>         <span class="keywordtype">int</span>                                      <a class="code" href="classArtsEngine.html#ArtsEnginer11">m_scopeSize</a>;
<a name="l00137"></a><a class="code" href="classArtsEngine.html#ArtsEnginer12">00137</a>         <span class="keywordtype">long</span>                                     <a class="code" href="classArtsEngine.html#ArtsEnginer12">m_volumeId</a>;
<a name="l00138"></a><a class="code" href="classArtsEngine.html#ArtsEnginer13">00138</a>         QMap&lt;long, EffectContainer&gt;              <a class="code" href="classArtsEngine.html#ArtsEnginer13">m_effectMap</a>;
00139 
<a name="l00140"></a><a class="code" href="classArtsEngine.html#ArtsEnginer14">00140</a>         <span class="keywordtype">bool</span>                                     <a class="code" href="classArtsEngine.html#ArtsEnginer14">m_xfadeFadeout</a>;
<a name="l00141"></a><a class="code" href="classArtsEngine.html#ArtsEnginer15">00141</a>         <span class="keywordtype">float</span>                                    <a class="code" href="classArtsEngine.html#ArtsEnginer15">m_xfadeValue</a>;
<a name="l00142"></a><a class="code" href="classArtsEngine.html#ArtsEnginer16">00142</a>         QString                                  <a class="code" href="classArtsEngine.html#ArtsEnginer16">m_xfadeCurrent</a>;
<a name="l00143"></a><a class="code" href="classArtsEngine.html#ArtsEnginer17">00143</a>         QGuardedPtr&lt;ArtsConfigWidget&gt;            <a class="code" href="classArtsEngine.html#ArtsEnginer17">m_pDecoderConfigWidget</a>;
<a name="l00144"></a><a class="code" href="classArtsEngine.html#ArtsEnginer18">00144</a>         QTimer*                                  <a class="code" href="classArtsEngine.html#ArtsEnginer18">m_pConnectTimer</a>;
00145 };
00146 
00147 <span class="preprocessor">#endif</span>
00148 <span class="preprocessor"></span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Fri May 13 16:53:34 2005 for HDASS by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 > 
</a>1.3.6 </small></address>
</body>
</html>
